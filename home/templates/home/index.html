{% extends "base.html" %}
{% load static %}
{% load i18n %}


{% block extra_css %}
    <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
    <section class="hero-section mb-3">
        <picture>
            <source media="(max-width: 480px)" srcset="{% static 'images/hero-small.webp' %}">
            <source media="(max-width: 768px)" srcset="{% static 'images/hero-medium.webp' %}">
            <source media="(max-width: 992px)" srcset="{% static 'images/hero-large.webp' %}">
            <img src="{% static 'images/hero.webp' %}" alt="{% trans 'Innovative Raspberry Pi based tablets' %}" >
        </picture>

        <div class="hero-content">
            <h1 class="display-4 fw-bold mb-3">{% trans "RaspiMobile Solutions" %}</h1>
            <p class="lead mb-4">{% trans "Innovative Raspberry Pi tablets and accessories." %}</p>
            <a href="{% url 'product_list' %}" class="btn btn-primary btn-lg text-white fw-bold">
                <i class="fa-solid fa-cart-shopping text-light me-2"></i>{% trans "Shop Now" %}
            </a>
        </div>
    </section>

    <section class="d-relative intro-section py-5 mb-3">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="fw-bold mb-4">{% trans "Experience True Device Freedom" %}</h2>
                    <p class="lead mb-3">
                        {% blocktrans %}
                        At RaspiMobile, we engineer cutting-edge tablets and phones built around the powerful Raspberry Pi Compute Module. Explore our wide range of devices, designed for modularity and tailored to your specific needs.
                        {% endblocktrans %}
                    </p>
                    <p class="mb-0">
                        {% blocktrans %}
                        Say goodbye to planned obsolescence! Our unique approach guarantees <strong class="text-success">lifetime operating system updates</strong>, offering unparalleled flexibility with Android or your favorite Linux distributions and desktop environments. You own your device, truly.
                        {% endblocktrans %}
                    </p>
                </div>
            </div>
        </div>
    </section>

    {% if featured_products %}
        <section class="container mb-3">
            <h2 class="text-center fw-bold mb-4">{% trans "Featured Products" %}</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 justify-content-center g-4">
                {% for product in featured_products %}
                    <div class="col hide-card-footer">
                        {% include 'products/partials/product_card.html' with product=product %}
                    </div>
                {% endfor %}
            </div>
        </section>
    {% endif %}

    {% if featured_products and best_rated_products %}
        <div class="container">
            <hr class="my-5">
        </div>
    {% endif %}

    {% if best_rated_products %}
        <section class="container mb-3">
            <h2 class="text-center fw-bold mb-4">{% trans "Top Rated Picks" %}</h2>
            <div class="row row-cols-1 row-cols-md-2 justify-content-center g-4">
                {% for product in best_rated_products %}
                    <div class="col col-lg-6 hide-card-footer">
                        {% include 'products/partials/product_card.html' with product=product %}
                    </div>
                {% endfor %}
            </div>
            {% if not featured_products %}
                 <p class="text-center mt-4">
                     <a href="{% url 'product_list' %}?sort=rating_desc" class="btn btn-outline-secondary">
                         {% trans "See More Top Rated" %} <i class="fas fa-arrow-right ms-1"></i>
                     </a>
                 </p>
             {% endif %}
        </section>
    {% endif %}

    <section class="container text-center py-5 mb-3 bg-light rounded">
        <h3 class="fw-bold mb-3">{% trans "Discover the Full Range" %}</h3>
        <p class="lead mb-4">{% trans "Explore our complete collection of innovative products and accessories." %}</p>
        <a href="{% url 'product_list' %}" class="btn btn-secondary btn-lg fw-bold">
             <i class="fa-solid fa-store me-2"></i>{% trans "Visit the Shop" %}
        </a>
    </section>

    <!-- Newsletter -->
    <section class="container py-5 mb-3 bg-light rounded">
        <div id="mc_embed_signup">
            <form action="https://herokuapp.us7.list-manage.com/subscribe/post?u=0ca5cb878a981b22c70ffea41&id=dfc67396db&f_id=00fdf7e0f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" novalidate>
                <div id="mc_embed_signup_scroll">
                    <h2 class="text-center fw-bold mb-4">{% trans "Stay Updated!" %}</h2>
                     <p class="text-center lead mb-3">{% trans "Subscribe to our newsletter for the latest news and offers." %}</p>
                    <div class="mc-field-group input-group mb-3 w-75 mx-auto">
                        <label for="mce-EMAIL" class="visually-hidden">{% trans "Email Address" %} <span class="asterisk">*</span></label>
                        <input type="email" name="EMAIL" class="required email form-control" id="mce-EMAIL" required placeholder="{% trans 'Enter your email' %}" value="">
                        <button type="submit" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary rounded w-100 text-white mx-0">{% trans "Subscribe" %}</button>
                    </div>
                    <div id="mce-responses" class="clear foot text-center">
                        <div class="response alert alert-danger mt-2" id="mce-error-response" style="display: none;"></div>
                        <div class="response alert alert-success mt-2" id="mce-success-response" style="display: none;"></div>
                    </div>
                    <div style="position: absolute; left: -5000px;" aria-hidden="true">
                        <input type="text" name="b_0ca5cb878a981b22c70ffea41_dfc67396db" tabindex="-1" value="">
                    </div>
                </div>
            </form>
        </div>
         <div id="custom-subscribe-message" class="text-center mt-2"></div>
    </section>
{% endblock %}


{% block extra_js %}
    <script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
    <script type="text/javascript" src="{% static 'js/mailchimp-ajax.js' %}"></script>
{% endblock %}